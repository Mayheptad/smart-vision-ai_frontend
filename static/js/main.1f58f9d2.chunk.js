(this["webpackJsonpsmart-vision-ai_frontend"]=this["webpackJsonpsmart-vision-ai_frontend"]||[]).push([[0],{424:function(e,t,n){},425:function(e,t,n){},427:function(e,t,n){},428:function(e,t,n){},429:function(e,t,n){},431:function(e,t,n){"use strict";n.r(t);var a=n(13),s=n.n(a),r=n(50),i=n.n(r),o=(n(86),n(9)),c=n.n(o),l=n(20),u=n(23),d=n(24),h=n(26),g=n(25),m=n(80),b=n.n(m),p=(n(424),n(425),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST",n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/json";return fetch(e,{method:t,body:JSON.stringify(n),headers:{"Content-Type":a}}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e.toString().toLocaleLowerCase()}))}),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"undefined";return"add"===n?sessionStorage.setItem(e,t):"remove"===n?sessionStorage.removeItem(e):"clear"===n?sessionStorage.clear():void 0},f=[".JPEG",".JPG",".PNG",".GIF",".TIFF",".PSD",".PDF",".EPS",".AI",".INDD",".RAW"],v=function(e,t){return t.find((function(t){return e.toLowerCase().endsWith(t.toLocaleLowerCase())}))},x=n(2),O=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleEmailChange=function(e){return a.setState({signInEmail:e.target.value})},a.handlePasswordChange=function(e){return a.setState({signInPassword:e.target.value})},a.handleSignin=function(){var e=Object(l.a)(c.a.mark((function e(t){var n,s,r,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,s=n.signInEmail,r=n.signInPassword,i={email:s,password:r},e.next=5,p("https://smart-vision-ai.herokuapp.com/signin","POST",i);case 5:if(!(o=e.sent).id){e.next=15;break}return e.next=9,a.props.loadUserData(o);case 9:return e.next=11,a.props.onRouteChange("home");case 11:j("isLoggedIn","true","add"),j("activeUserData",JSON.stringify({userOrErorr:o}),"add"),e.next=18;break;case 15:return e.next=17,a.setState({notAbleToSignin:!0});case 17:console.log(o);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={signInEmail:"",signInPassword:"",notAbleToSignin:"maybe"},a}return Object(d.a)(n,[{key:"componentWillUnmount",value:function(){this.props.runRegStatus(!1)}},{key:"render",value:function(){var e=this;return Object(x.jsx)("article",{className:"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center",children:Object(x.jsx)("main",{className:"pa4 black-80",children:Object(x.jsxs)("form",{className:"measure",children:[Object(x.jsxs)("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0",children:[Object(x.jsx)("legend",{className:"f2 fw6 ph0 mh0",children:" Sign In "}),Object(x.jsxs)("div",{className:"mt3",children:[this.state.notAbleToSignin&&"maybe"!==this.state.notAbleToSignin?Object(x.jsx)("h3",{className:"success_registered",children:" Error: It look like u havent registered, or you are trying to login using the wrong credential, or there is perhaps a temporary issue on our server, please check your login details and retry"}):null,this.props.isRegistered?Object(x.jsx)("h3",{className:"success_registered",children:" User is registered successfully, Please Log In Below "}):null,Object(x.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address",children:" Email "}),Object(x.jsx)("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",onChange:this.handleEmailChange,name:"email-address",id:"email-address"})]}),Object(x.jsxs)("div",{className:"mv3",children:[Object(x.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"password",children:" Password "}),Object(x.jsx)("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",onChange:this.handlePasswordChange,name:"password",id:"password"})]})]}),Object(x.jsx)("div",{className:"",children:Object(x.jsx)("input",{onClick:this.handleSignin,className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Sign in"})}),Object(x.jsx)("div",{className:"lh-copy mt3",children:Object(x.jsx)("p",{onClick:function(t){return e.props.onRouteChange("Register")},className:"f6 link dim black db pointer",children:" Register "})})]})})})}}]),n}(a.Component),w=O,k=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleNameChange=function(e){return a.setState({name:e.target.value})},a.handleEmailChange=function(e){return a.setState({email:e.target.value})},a.handlePasswordChange=function(e){return a.setState({password:e.target.value})},a.setAbleToReg=function(e){return a.setState({ableToRegister:e})},a.handleRegister=function(){var e=Object(l.a)(c.a.mark((function e(t){var n,s,r,i,o,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,s=n.name,r=n.email,i=n.password,o={name:s,email:r,password:i},e.next=4,p("https://smart-vision-ai.herokuapp.com/register","POST",o);case 4:if(!(l=e.sent).id){e.next=12;break}return e.next=8,a.props.runRegStatus(!0);case 8:return e.next=10,a.props.onRouteChange("signIn");case 10:e.next=14;break;case 12:a.setAbleToReg("failed"),console.log(l);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={name:"",email:"",password:"",ableToRegister:"maybe"},a}return Object(d.a)(n,[{key:"componentWillUnmount",value:function(){this.setAbleToReg("maybe")}},{key:"render",value:function(){var e=this;return Object(x.jsx)("article",{className:"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center",children:Object(x.jsx)("main",{className:"pa4 black-80",children:Object(x.jsxs)("form",{className:"measure",children:[Object(x.jsxs)("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0",children:[Object(x.jsx)("legend",{className:"f2 fw6 ph0 mh0",children:" Register "}),Object(x.jsxs)("div",{className:"mt3",children:["failed"===this.state.ableToRegister?Object(x.jsx)("h3",{className:"success_registered",children:"User cannot be Registered, Either your Input are not correct, or a temporary error on our server. Please check your inputs, and Try again"}):null,Object(x.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"name",children:" Name "}),Object(x.jsx)("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",onChange:this.handleNameChange,name:"name",id:"name"})]}),Object(x.jsxs)("div",{className:"mt3",children:[Object(x.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address",children:" Email "}),Object(x.jsx)("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",onChange:this.handleEmailChange,name:"email-address",id:"email-address"})]}),Object(x.jsxs)("div",{className:"mv3",children:[Object(x.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"password",children:" Password "}),Object(x.jsx)("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",onChange:this.handlePasswordChange,name:"password",id:"password"})]})]}),Object(x.jsx)("div",{className:"",children:Object(x.jsx)("input",{onClick:this.handleRegister,className:"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib",type:"submit",value:"Register"})}),Object(x.jsx)("div",{className:"lh-copy mt3",children:Object(x.jsx)("p",{onClick:function(t){return e.props.onRouteChange("signIn")},className:"f6 link dim black db pointer",children:" Sign In "})})]})})})}}]),n}(a.Component),y=k;var S=function(e){var t=e.isSignedIn,n=e.onRouteChange;return"home"===t||"true"===sessionStorage.getItem("isLoggedIn")?Object(x.jsx)("nav",{style:{display:"flex",justifyContent:"flex-end"},children:Object(x.jsx)("p",{onClick:function(e){return n("signIn",e)},className:"f4 link dim black underline pa2 pointer",children:"SignOut"})}):Object(x.jsx)("nav",{style:{display:"flex",justifyContent:"flex-end"},children:Object(x.jsx)("p",{onClick:function(e){return n("signIn")},className:"f4 link dim black underline pa2 pointer",children:" SignIn "})})},N=function(e){var t=e.userData;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"f3 white",children:"Hello ".concat(t.name,", The number of images you have submited is")}),Object(x.jsx)("div",{className:"f1 white",children:"".concat(t.entries)})]})},C=n(81),I=n.n(C),R=(n(427),function(e){return Object(x.jsx)("div",{className:"ma3 mt0 inlineblock",children:Object(x.jsx)(I.a,{className:"Tilt br2 shadow-2",options:{max:80},style:{height:90,width:90},children:Object(x.jsx)("div",{className:"Tilt-inner pa3",children:Object(x.jsx)("img",{alt:"smart brain",src:"https://mayheptad.github.io/smart-vision-ai_frontend/images/smart_brain.jpg",width:"50",height:"60"})})})})});n(428);var D=function(e){var t=e.onInputChange,n=e.onImageBtnClick;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{className:"f3",children:" This magic brain will detect faces in your pictures, give it a try "}),Object(x.jsx)("div",{className:"center-stuff",children:Object(x.jsxs)("div",{className:"center-stuff form pa3 br3 shadow-5",children:[Object(x.jsx)("input",{onChange:t,type:"text",className:"f4 pa2 w-70 center-stuff"}),Object(x.jsx)("button",{onClick:n,className:"grow w-30 f4 link ph3 dib white bg-light-purple",children:"Detect"})]})})]})},P=(n(429),function(e){var t=e.imageUrl,n=e.fDB;return Object(x.jsx)("div",{className:"ma2 center-stuff",children:Object(x.jsxs)("div",{className:"absolute mt2",children:[Object(x.jsx)("img",{id:"fdb",width:"500px",height:"auto",alt:"",src:t}),Object(x.jsx)("div",{style:{top:n.topRow,right:n.rightCol,bottom:n.bottomRow,left:n.leftCol},className:"bounding-box"})]})})}),T={isSignedIn:"",route:"signIn",input:"",imageUrl:"",fDB:{},user:{id:"",name:"",email:"",entries:0,joined:""},isRegistered:!1,nonSurportedImage:!1,errorWorkingWithClarifaiApi:!1},U={particles:{number:{value:100,density:{enable:!0,value_area:800}}}},E=function(e){Object(h.a)(n,e);var t=Object(g.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).calculateFaceLocation=function(t){var n=t.outputs[0].data.regions[0].region_info.bounding_box,a=document.getElementById("fdb"),s=Number(a.width),r=Number(a.height),i={leftCol:n.left_col*s,topRow:n.top_row*r,rightCol:s-n.right_col*s,bottomRow:r-n.bottom_row*r};e.setState({fDB:i})},e.handleInputChange=function(t){return e.setState({input:t.target.value})},e.handleImageBtnClick=function(){var t=Object(l.a)(c.a.mark((function t(n){var a,s,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({imageUrl:e.state.input});case 2:if(!(e.state.imageUrl.length<3||void 0===v(e.state.imageUrl,f))){t.next=6;break}return t.abrupt("return",e.setState({nonSurportedImage:!0}));case 6:e.setState({nonSurportedImage:!1,errorWorkingWithClarifaiApi:!1});case 7:return t.next=9,p("https://smart-vision-ai.herokuapp.com/clarifaiapicallroute","POST",{imgUrl:e.state.imageUrl});case 9:if("error working with Clarifai Api"===(a=t.sent)){t.next=26;break}return e.calculateFaceLocation(a),t.next=14,p("https://smart-vision-ai.herokuapp.com/image","PUT",{id:e.state.user.id});case 14:if("Unable to get entries"===(s=t.sent)||"number"!=typeof Number(s)){t.next=24;break}return t.next=18,e.setState(Object.assign(e.state.user,{entries:s}));case 18:return console.log(s),t.next=21,JSON.parse(sessionStorage.activeUserData);case 21:(r=t.sent).userOrErorr.entries=Number(r.userOrErorr.entries)+1,j("activeUserData",JSON.stringify(r),"add");case 24:t.next=28;break;case 26:e.setState({errorWorkingWithClarifaiApi:!0}),console.log(a);case 28:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onRouteChange=function(){var t=Object(l.a)(c.a.mark((function t(n,a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===a||"SignOut"!==a.target.innerHTML){t.next=7;break}return j("isLoggedIn",null,"remove"),j("activeUserData",null,"remove"),t.next=5,e.setState(T);case 5:t.next=9;break;case 7:return t.next=9,e.setState({route:n,isSignedIn:n});case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.loadUserData=function(t){return e.setState({user:{id:t.id,name:t.name,email:t.email,entries:t.entries,joined:t.joined}})},e.runRegStatus=function(t){return e.setState({isRegistered:t})},e.state=T,e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){if(window.performance.navigation.type===window.performance.navigation.TYPE_RELOAD&&"true"===sessionStorage.getItem("isLoggedIn")){var e=JSON.parse(sessionStorage.activeUserData);this.loadUserData(e.userOrErorr)}}},{key:"render",value:function(){return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(b.a,{className:"below",params:U}),Object(x.jsx)(S,{isSignedIn:this.state.isSignedIn,onRouteChange:this.onRouteChange}),Object(x.jsx)(R,{}),this.state.nonSurportedImage?Object(x.jsx)("h3",{style:{backgroundColor:"black",color:"white",padding:"5px"},children:" Error: It look like you haven't pasted a link to check, or the link you pasted is not supported, or is not an image link please Retry"}):null,this.state.errorWorkingWithClarifaiApi?Object(x.jsx)("h3",{style:{backgroundColor:"black",color:"white",padding:"5px"},children:"Error: Please check the link you pasted is a correct image link or there is probably a temporary issue on our server. please Retry "}):null,"home"===this.state.route||"true"===sessionStorage.getItem("isLoggedIn")?Object(x.jsxs)("div",{children:[Object(x.jsx)(N,{userData:this.state.user}),Object(x.jsx)(D,{onImageBtnClick:this.handleImageBtnClick,onInputChange:this.handleInputChange}),Object(x.jsx)(P,{fDB:this.state.fDB,imageUrl:this.state.imageUrl})]}):"signIn"===this.state.route?Object(x.jsx)(w,{loadUserData:this.loadUserData,runRegStatus:this.runRegStatus,isRegistered:this.state.isRegistered,onRouteChange:this.onRouteChange}):Object(x.jsx)(y,{onRouteChange:this.onRouteChange,runRegStatus:this.runRegStatus})]})}}]),n}(a.Component),F=E,L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,432)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),r(e),i(e)}))};n(430);i.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(F,{})}),document.getElementById("root")),L()},86:function(e,t,n){}},[[431,1,2]]]);
//# sourceMappingURL=main.1f58f9d2.chunk.js.map